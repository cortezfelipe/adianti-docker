function Adianti(){}function Template(){}function __adianti_set_language(e){Adianti.language=e}function __adianti_set_debug(e){Adianti.debug=e}function __adianti_run_after_loads(e,t){if(typeof Adianti.onAfterLoad=="function"){Adianti.onAfterLoad(e,t)}if(typeof Template.onAfterLoad=="function"){Template.onAfterLoad(e,t)}}function __adianti_run_after_posts(e,t){if(typeof Adianti.onAfterPost=="function"){Adianti.onAfterPost(e,t)}if(typeof Template.onAfterPost=="function"){Template.onAfterPost(e,t)}}function __adianti_run_before_loads(e){if(typeof Adianti.onBeforeLoad=="function"){Adianti.onBeforeLoad(e)}if(typeof Template.onBeforeLoad=="function"){Template.onBeforeLoad(e)}}function __adianti_run_before_posts(e){if(typeof Adianti.onBeforePost=="function"){Adianti.onBeforePost(e)}if(typeof Template.onBeforePost=="function"){Template.onBeforePost(e)}}function __adianti_failure_message(){if(Adianti.debug==1){if(Adianti.language=="pt"){return"Requisição falhou. Verifique a conexão com internet e os logs do servidor de aplicação"}return"Request failed. Check the internet connection and the application server logs"}else{if(Adianti.language=="pt"){return"Requisição falhou"}return"Request failed"}}function __adianti_goto_page(e){window.location=e}function __adianti_base_url(){return window.location.protocol+"//"+window.location.host+window.location.pathname.split("/").slice(0,-1).join("/")}function __adianti_query_string(){var e={};var t=window.location.search.substring(1);var i=t.split("&");for(var a=0;a<i.length;a++){var n=i[a].split("=");if(typeof e[n[0]]==="undefined"){e[n[0]]=n[1]}else if(typeof e[n[0]]==="string"){var o=[e[n[0]],n[1]];e[n[0]]=o}else{e[n[0]].push(n[1])}}return e}function __adianti_query_to_json(e){var t=e.split("&");var i=Object();var a=function(e){if(typeof e!=="undefined"){return urldecode(e.replace(/\+/g," "))}return e};for(var n=0;n<t.length;n++){var o=t[n].split("=");if(o[0].search("\\[\\]")!==-1){o[0]=o[0].replace(/\[\]$/,"");if(typeof i[o[0]]==="undefined"){i[o[0]]=[a(o[1])]}else{i[o[0]].push(a(o[1]))}}else{i[o[0]]=a(o[1])}}return i}function __adianti_load_html(e,t,i){var a=i.match("target_container=([0-z-]*)");var n=e.match('adianti_target_container\\s?=\\s?"([0-z-]*)"');if(a!==null){var o=a[1];$("#"+o).empty();$("#"+o).html(e)}else if(n!==null){var o=n[1];$("#"+o).empty();$("#"+o).html(e)}else if($('[widget="TWindow"]').length>0&&e.indexOf('widget="TWindow"')>0){$('[widget="TWindow"]').attr("remove","yes");$("#adianti_online_content").empty();e=e.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2");$("#adianti_online_content").html(e);$('[widget="TWindow"][remove="yes"]').remove()}else{if(e.indexOf('widget="TWindow"')>0){e=e.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2");$("#adianti_online_content").html(e)}else{if(typeof Adianti.onClearDOM=="function"){Adianti.onClearDOM()}$('[widget="TWindow"]').remove();$("#adianti_div_content").html(e)}}if(typeof t=="function"){t(i,e)}}function __adianti_load_html2(e){if($('[widget="TWindow2"]').length>0){$('[widget="TWindow2"]').attr("remove","yes");$("#adianti_online_content2").hide();e=e.replace(new RegExp("__adianti_load_html","g"),"__adianti_load_html2");e=e.replace(new RegExp("__adianti_load_page","g"),"__adianti_load_page2");e=e.replace(new RegExp("__adianti_post_data","g"),"__adianti_post_data2");e=e.replace(new RegExp("TWindow","g"),"TWindow2");e=e.replace(new RegExp('generator="adianti"',"g"),'generator="adianti2"');$("#adianti_online_content2").html(e);$('[widget="TWindow2"][remove="yes"]').remove();$("#adianti_online_content2").show()}else{if(e.indexOf('widget="TWindow2"')>0){$("#adianti_online_content2").html(e)}else if(e.indexOf('widget="TWindow"')>0){$("#adianti_online_content").html(e)}else{$("#adianti_div_content").html(e)}}}function __adianti_load_page_no_register(e){$.get(e).done(function(t){__adianti_load_html(t,null,e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_load_page_no_register2(e){$.get(e).done(function(e){__adianti_load_html2(e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_append_page(e,t){e=e.replace("engine.php?","");params_json=__adianti_query_to_json(e);uri="engine.php?"+"class="+params_json.class+"&method="+params_json.method+"&static="+(params_json.static=="1"?"1":"0");$.post(uri,params_json).done(function(e){e=e.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2");$("#adianti_online_content").after("<div></div>").html(e);if(typeof t=="function"){t()}}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_append_page2(e){e=e.replace("engine.php?","");params_json=__adianti_query_to_json(e);uri="engine.php?"+"class="+params_json.class+"&method="+params_json.method+"&static="+(params_json.static=="1"?"1":"0");$.post(uri,params_json).done(function(e){e=e.replace(new RegExp("__adianti_load_html","g"),"__adianti_load_html2");e=e.replace(new RegExp("__adianti_load_page","g"),"__adianti_load_page2");e=e.replace(new RegExp("__adianti_post_data","g"),"__adianti_post_data2");e=e.replace(new RegExp("TWindow","g"),"TWindow2");e=e.replace(new RegExp('generator="adianti"',"g"),'generator="adianti2"');$("#adianti_online_content2").after("<div></div>").html(e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_load_page(e,t){if(typeof e!=="undefined"){$(".modal-backdrop").remove();var i=e;i=i.replace("index.php","engine.php");if(i.indexOf("engine.php")==-1){i="xhr-"+i}__adianti_run_before_loads(i);if(i.indexOf("&static=1")>0){$.get(i).done(function(e){__adianti_parse_html(e);Adianti.requestURL=i;Adianti.requestData=null;if(typeof t=="function"){t()}__adianti_run_after_loads(i,e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message());loading=false})}else{$.get(i).done(function(e){Adianti.requestURL=i;Adianti.requestData=null;__adianti_load_html(e,__adianti_run_after_loads,i);if(typeof t=="function"){t()}if(i.indexOf("register_state=false")<0&&history.pushState&&e.indexOf('widget="TWindow"')<0){__adianti_register_state(i,"adianti");Adianti.currentURL=i}}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message());loading=false})}}}function __adianti_load_page2(e){url=e;url=url.replace("index.php","engine.php");__adianti_load_page_no_register2(url);Adianti.requestURL=url;Adianti.requestData=null}function __adianti_block_ui(e){if(typeof $.blockUI=="function"){if(typeof Adianti.blockUIConter=="undefined"){Adianti.blockUIConter=0}Adianti.blockUIConter=Adianti.blockUIConter+1;if(typeof e=="undefined"){e=Adianti.waitMessage}$.blockUI({message:'<h1><i class="fa fa-spinner fa-pulse"></i> '+e+"</h1>",fadeIn:0,fadeOut:0,css:{border:"none",top:"100px",left:0,maxWidth:"300px",width:"inherit",padding:"15px",backgroundColor:"#000","border-radius":"5px 5px 5px 5px",opacity:.5,color:"#fff"}});$(".blockUI.blockMsg").mycenter()}}function __adianti_window(e,t,i,a){$("<div />").html(a).dialog({modal:true,title:e,width:t,height:i,resizable:true,closeOnEscape:true,close:function(e,t){$(this).remove()},focus:true})}function __adianti_window_page(e,t,i,a){if(t<2){t=$(window).width()*t}if(i<2){i=$(window).height()*i}$("<div />").append($("<iframe style='width:100%;height:97%' />").attr("src",a)).dialog({modal:true,title:e,width:t,height:i,resizable:false,closeOnEscape:true,close:function(e,t){$(this).remove()},focus:true})}function __adianti_dialog(e){if(e.type=="info"){var t=e.icon?e.icon:"fa fa-info-circle fa-4x blue"}else if(e.type=="warning"){var t=e.icon?e.icon:"fa fa-exclamation-triangle fa-4x orange"}else if(e.type=="error"){var t=e.icon?e.icon:"fa fa-exclamation-circle fa-4x red"}if(typeof bootbox=="object"){bootbox.dialog({title:e.title,animate:false,backdrop:true,onEscape:function(){if(typeof e.callback!="undefined"){e.callback()}},message:"<div>"+'<span class="'+t+'" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+e.message+"</span>"+"</div>",buttons:{success:{label:"OK",className:"btn-default",callback:function(){if(typeof e.callback!="undefined"){e.callback()}}}}})}else{alert(e.message);if(typeof e.callback!="undefined"){e.callback()}}}function __adianti_error(e,t,i){__adianti_dialog({type:"error",title:e,message:t,callback:i})}function __adianti_message(e,t,i){__adianti_dialog({type:"info",title:e,message:t,callback:i})}function __adianti_warning(e,t,i){__adianti_dialog({type:"warning",title:e,message:t,callback:i})}function __adianti_question(e,t,i,a,n,o){if(typeof bootbox=="object"){bootbox.dialog({title:e,animate:false,message:"<div>"+'<span class="fa fa-question-circle fa-4x blue" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+t+"</span>"+"</div>",buttons:{yes:{label:n,className:"btn-default",callback:function(){if(typeof i!="undefined"){i()}}},no:{label:o,className:"btn-default",callback:function(){if(typeof a!="undefined"){a()}}}}})}else{var r=confirm(t);if(r==true){if(typeof i!="undefined"){i()}}else{if(typeof a!="undefined"){a()}}}}function __adianti_input(e,t){if(typeof bootbox=="object"){bootbox.prompt(e,function(e){if(e!==null){t(e)}})}else{var i=prompt(e,"");t(i)}}function __adianti_show_toast64(e,t,i,a){__adianti_show_toast(e,atob(t),i,a)}function __adianti_show_toast(e,t,i,a){var i=i.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){if(+e===0)return"";return t==0?e.toLowerCase():e.toUpperCase()});var n={message:t,position:i};if(e=="show"){n["progressBarColor"]="rgb(0, 255, 184)";n["theme"]="dark"}if(typeof a!=="undefined"){n["icon"]="fa "+a.replace(":","-")}iziToast[e](n)}function __adianti_unblock_ui(){if(typeof $.blockUI=="function"){Adianti.blockUIConter=Adianti.blockUIConter-1;if(Adianti.blockUIConter<=0){$.unblockUI({fadeIn:0,fadeOut:0});Adianti.blockUIConter=0}}}function __adianti_post_data(e,t){if(t.substring(0,4)=="xhr-"){url=t}else{url="index.php?"+t;url=url.replace("index.php","engine.php")}if(document.querySelector("#"+e)instanceof Node){if(!document.querySelector("#"+e).hasAttribute("novalidate")&&document.querySelector("#"+e).checkValidity()==false){document.querySelector("#"+e).reportValidity();return}}__adianti_block_ui();data=$("#"+e).serialize();__adianti_run_before_posts(url);if(url.indexOf("&static=1")>0||t.substring(0,4)=="xhr-"){$.post(url,data).done(function(e){__adianti_parse_html(e);__adianti_unblock_ui();Adianti.requestURL=url;Adianti.requestData=data;__adianti_run_after_posts(url,data)}).fail(function(e,t,i){__adianti_unblock_ui();__adianti_error("Error",t+": "+__adianti_failure_message());loading=false})}else{$.post(url,data).done(function(e){Adianti.currentURL=url;Adianti.requestURL=url;Adianti.requestData=data;__adianti_load_html(e,__adianti_run_after_posts,url);__adianti_unblock_ui()}).fail(function(e,t,i){__adianti_unblock_ui();__adianti_error("Error",t+": "+__adianti_failure_message());loading=false})}}function __adianti_post_data2(e,t){t="index.php?"+t;t=t.replace("index.php","engine.php");data=$("#"+e).serialize();$.post(t,data).done(function(e){__adianti_load_html2(e);__adianti_unblock_ui();Adianti.requestURL=t;Adianti.requestData=data}).fail(function(e,t,i){__adianti_unblock_ui();__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_register_state(e,t){if(Adianti.registerState!==false||t=="user"){var i={url:e};if(typeof history.pushState!="undefined"){history.pushState(i,"",e.replace("engine.php","index.php").replace("xhr-",""))}}}function __adianti_ajax_lookup(e,t){var i=t.value;__adianti_ajax_exec(e+"&key="+i+"&ajax_lookup=1",null)}function __adianti_ajax_exec(e,t,i){var a="engine.php?"+e+"&static=1";var i=typeof i==="undefined"?true:i;$.ajax({url:a}).done(function(e){if(i){__adianti_parse_html(e,t)}else{t(e)}}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_get_page(e,t,i){var a="engine.php?"+e+"&static=1";if(typeof i!=="undefined"){if(typeof i.static!=="undefined"){var a="engine.php?"+e+"&static="+i.static}}$.ajax({url:a,data:i}).done(function(e){return t(e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_post_lookup(e,t,i,a){if(typeof i=="string"){field_obj=$("#"+i)}else if(i instanceof HTMLElement){field_obj=$(i)}var n=$("#"+e).serializeArray();n.push({name:"_field_value",value:field_obj.val()});var o="engine.php?"+t+"&static=1";n.push({name:"_field_id",value:field_obj.attr("id")});n.push({name:"_field_name",value:field_obj.attr("name")});n.push({name:"_form_name",value:e});n.push({name:"_field_data",value:$.param(field_obj.data(),true)});n.push({name:"key",value:field_obj.val()});n.push({name:"ajax_lookup",value:1});$.ajax({type:"POST",url:o,data:n}).done(function(e){__adianti_parse_html(e,a)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message())})}function __adianti_parse_html(e,t){tmp=e;tmp=new String(tmp.replace(/window\.opener\./g,""));tmp=new String(tmp.replace(/window\.close\(\)\;/g,""));tmp=new String(tmp.replace(/^\s+|\s+$/g,""));if($('[widget="TWindow2"]').length>0){tmp=new String(tmp.replace(/TWindow/g,"TWindow2"))}try{var i=e.match('adianti_target_container\\s?=\\s?"([0-z]*)"');if(i!==null){var a=i[1];$("#"+a).empty();$("#"+a).html(tmp)}else{$("#adianti_online_content").find("script").remove();$("#adianti_online_content").append(tmp)}if(t&&typeof t==="function"){t(e)}}catch(e){if(e instanceof Error){$("<div />").html(e.message+": "+tmp).dialog({modal:true,title:"Error",width:"80%",height:"auto",resizable:true,closeOnEscape:true,focus:true})}}}function __adianti_download_file(e){extension=e.split(".").pop();screenWidth=screen.width;screenHeight=screen.height;if(extension!=="html"){screenWidth/=3;screenHeight/=3}window.open("download.php?file="+e,"_blank","width="+screenWidth+",height="+screenHeight+",top=0,left=0,status=yes,scrollbars=yes,toolbar=yes,resizable=yes,maximized=yes,menubar=yes,location=yes")}function __adianti_open_page(e){var t=window.open(e,"_blank");if(t){t.focus()}else{alert("Please allow popups for this website")}}function __adianti_process_popover(){var e=function(e,t){$element=$(t);var i=["auto","top","right","bottom","left"];if(typeof $element.attr("popside")==="undefined"||i.indexOf($element.attr("popside"))===-1){return"auto"}else{return $(t).attr("popside")}};var t=function(e){return urldecode(Array.prototype.map.call(atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))};var i=function(e,i){if(typeof $(this).attr("popaction")==="undefined"){if(typeof $(this).attr("popcontent64")!=="undefined"){return t($(this).attr("popcontent64"))}else{return $(this).attr("popcontent")||""}}else{var a=$(this);__adianti_get_page($(this).attr("popaction"),function(e){var t=a.attr("data-content",e).data("bs.popover");t.setContent();t.show()},{static:"0"});return'<i class="fa fa-spinner fa-spin fa-5x fa-fw"></i>'}};var a=function(){return $(this).attr("poptitle")||""};var n='<div class="popover" role="tooltip" style="max-width:800px"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>';$('[popover="true"]:not([poptrigger]):not([processed="true"])').popover({placement:e,trigger:"hover",container:"body",template:n,delay:{show:10,hide:10},content:i,html:true,title:a,sanitizeFn:function(e){return e}}).attr("processed",true);$('[popover="true"][poptrigger="click"]:not([processed="true"])').popover({placement:e,trigger:"click",container:"body",template:n,delay:{show:10,hide:10},content:i,sanitizeFn:function(e){return e},html:true,title:a}).on("shown.bs.popover",function(e){if(typeof $(this).attr("popaction")!=="undefined"){var t=$(this);__adianti_get_page($(this).attr("popaction"),function(e){var i=t.attr("data-content",e).data("bs.popover");i.setContent()},{static:"0"})}}).attr("processed",true);$("body").on("click",function(e){if(!$(e.target).is('[popover="true"]')&&!$(e.target).parents(".popover").length>0){if(!$(e.target).parents(".dropdown-menu").length>0){$(".popover").popover("hide")}}})}function __adianti_show_popover(e,t,i,a,n){var o={trigger:"manual",title:t,html:true,content:i,placement:a,sanitizeFn:function(e){return e}};var r=o;if(typeof n!==undefined){var r=Object.assign(o,n)}if($(e).length>0&&$(e).css("visibility")=="visible"){$(e).popover(r).popover("show")}}$(function(){Adianti.blockUIConter=0;if(typeof $().tooltip=="function"){$(document.body).tooltip({selector:"[title]",placement:function(e,t){$element=$(t);var i=["auto","top","right","bottom","left"];if(typeof $element.attr("titside")==="undefined"||i.indexOf($element.attr("titside"))===-1){return"auto"}else{return $(t).attr("titside")}},trigger:"hover",cssClass:"tooltip",container:"body",content:function(){return $(this).attr("title")},html:true})}if(typeof $().popover=="function"){$(document).on("dialogopen",function(){__adianti_process_popover()})}if(typeof jQuery.ui!=="undefined"){$.ui.dialog.prototype._focusTabbable=$.noop}});$(document).ajaxComplete(function(){if(typeof $().popover=="function"){__adianti_process_popover()}if(typeof $().DataTable=="function"){$('table[datatable="true"]:not(.dataTable)').DataTable({responsive:true,paging:false,searching:false,ordering:false,info:false})}});$(document).on("click",'[generator="adianti"]',function(){__adianti_load_page($(this).attr("href"));return false});$(document).on("click",'[generator="adianti2"]',function(){__adianti_load_page2($(this).attr("href"));return false});window.onpopstate=function(e){if(e.state){__adianti_load_page_no_register(e.state.url)}};$.fn.mycenter=function(){this.css("position","absolute");this.css("top",($(window).height()-this.outerHeight())/2+$(window).scrollTop()+"px");this.css("left",($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px");return this};
