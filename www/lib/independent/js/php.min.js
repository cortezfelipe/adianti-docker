function base64_encode(stringToEncode){var encodeUTF8string=function(str){return encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function toSolidBytes(match,p1){return String.fromCharCode("0x"+p1)})};if(typeof window!=="undefined"){if(typeof window.btoa!=="undefined"){return window.btoa(encodeUTF8string(stringToEncode))}}else{return new Buffer(stringToEncode).toString("base64")}var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1;var o2;var o3;var h1;var h2;var h3;var h4;var bits;var i=0;var ac=0;var enc="";var tmpArr=[];if(!stringToEncode){return stringToEncode}stringToEncode=encodeUTF8string(stringToEncode);do{o1=stringToEncode.charCodeAt(i++);o2=stringToEncode.charCodeAt(i++);o3=stringToEncode.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&63;h2=bits>>12&63;h3=bits>>6&63;h4=bits&63;tmpArr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<stringToEncode.length);enc=tmpArr.join("");var r=stringToEncode.length%3;return(r?enc.slice(0,r-3):enc)+"===".slice(r||3)}function base64_decode(encodedData){var decodeUTF8string=function(str){return decodeURIComponent(str.split("").map(function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))};if(typeof window!=="undefined"){if(typeof window.atob!=="undefined"){return decodeUTF8string(window.atob(encodedData))}}else{return new Buffer(encodedData,"base64").toString("utf-8")}var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1;var o2;var o3;var h1;var h2;var h3;var h4;var bits;var i=0;var ac=0;var dec="";var tmpArr=[];if(!encodedData){return encodedData}encodedData+="";do{h1=b64.indexOf(encodedData.charAt(i++));h2=b64.indexOf(encodedData.charAt(i++));h3=b64.indexOf(encodedData.charAt(i++));h4=b64.indexOf(encodedData.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&255;o2=bits>>8&255;o3=bits&255;if(h3===64){tmpArr[ac++]=String.fromCharCode(o1)}else if(h4===64){tmpArr[ac++]=String.fromCharCode(o1,o2)}else{tmpArr[ac++]=String.fromCharCode(o1,o2,o3)}}while(i<encodedData.length);dec=tmpArr.join("");return decodeUTF8string(dec.replace(/\0+$/,""))}function number_format(number,decimals,decPoint,thousandsSep){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");var n=!isFinite(+number)?0:+number;var prec=!isFinite(+decimals)?0:Math.abs(decimals);var sep=typeof thousandsSep==="undefined"?",":thousandsSep;var dec=typeof decPoint==="undefined"?".":decPoint;var s="";var toFixedFix=function(n,prec){if((""+n).indexOf("e")===-1){return+(Math.round(n+"e+"+prec)+"e-"+prec)}else{var arr=(""+n).split("e");var sig="";if(+arr[1]+prec>0){sig="+"}return(+(Math.round(+arr[0]+"e"+sig+(+arr[1]+prec))+"e-"+prec)).toFixed(prec)}};s=(prec?toFixedFix(n,prec).toString():""+Math.round(n)).split(".");if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||"").length<prec){s[1]=s[1]||"";s[1]+=new Array(prec-s[1].length+1).join("0")}return s.join(dec)}function urlencode(str){str=str+"";return encodeURIComponent(str).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/~/g,"%7E").replace(/%20/g,"+")}function urldecode(str){return decodeURIComponent((str+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))}
